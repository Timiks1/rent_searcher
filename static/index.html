<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram –§–∏–ª—å—Ç—Ä –ê—Ä–µ–Ω–¥—ã –ñ–∏–ª—å—è</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üè† –§–∏–ª—å—Ç—Ä –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ–± –∞—Ä–µ–Ω–¥–µ</h1>
            <p class="subtitle">–ü–æ–∏—Å–∫ –∂–∏–ª—å—è –∏–∑ Telegram –∫–∞–Ω–∞–ª–∞</p>
        </header>

        <div class="stats-bar" id="statsBar">
            <div class="stat-item">
                <span class="stat-label">–í—Å–µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:</span>
                <span class="stat-value" id="totalMessages">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">–° —Ü–µ–Ω–æ–π:</span>
                <span class="stat-value" id="messagesWithPrice">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">–° –ª–æ–∫–∞—Ü–∏–µ–π:</span>
                <span class="stat-value" id="messagesWithLocation">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">–û–±–Ω–æ–≤–ª–µ–Ω–æ:</span>
                <span class="stat-value" id="cacheAge">-</span>
            </div>
        </div>

        <div class="filters-section">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä—ã</h2>
            
            <div class="channel-section">
                <div class="filter-group channel-input-group">
                    <label for="channelInput">
                        üì∫ Telegram –∫–∞–Ω–∞–ª—ã
                        <span class="hint">(–Ω–∞–ø—Ä–∏–º–µ—Ä: @arenda_kvartir)</span>
                    </label>
                    <div class="channel-input-wrapper">
                        <input type="text" id="channelInput" placeholder="@channel_name">
                        <button class="btn btn-primary" onclick="addChannel()">
                            ‚ûï –î–æ–±–∞–≤–∏—Ç—å
                        </button>
                    </div>
                    <div id="channelsList" class="channels-list">
                        <!-- Channels will be added here dynamically -->
                    </div>
                </div>
            </div>

            <h3>–§–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</h3>
            <div class="filters-grid">
                <div class="filter-group">
                    <label for="minPrice">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (–º–ª–Ω VND –∏–ª–∏ USD)</label>
                    <input type="number" id="minPrice" placeholder="–û—Ç 0">
                </div>
                <div class="filter-group">
                    <label for="maxPrice">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (–º–ª–Ω VND –∏–ª–∏ USD)</label>
                    <input type="number" id="maxPrice" placeholder="–î–æ ‚àû">
                </div>
                <div class="filter-group">
                    <label for="location">
                        –í–∫–ª—é—á–∏—Ç—å –ª–æ–∫–∞—Ü–∏–∏ (whitelist)
                        <span class="hint">—Ç–æ–ª—å–∫–æ —Å —ç—Ç–∏–º–∏ —Ä–∞–π–æ–Ω–∞–º–∏</span>
                    </label>
                    <input type="text" id="location" placeholder="M·ªπ An, An Th∆∞·ª£ng...">
                </div>
                <div class="filter-group">
                    <label for="excludeAreas">
                        ‚õî –ò—Å–∫–ª—é—á–∏—Ç—å —Ä–∞–π–æ–Ω—ã (blacklist)
                        <span class="hint">–ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º—É —Ç–µ–∫—Å—Ç—É, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é</span>
                    </label>
                    <input type="text" id="excludeAreas" placeholder="my an, hoa hai, khue my...">
                </div>
                <div class="filter-group">
                    <label for="sortBy">
                        üìä –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
                        <span class="hint">–ø–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
                    </label>
                    <select id="sortBy" class="sort-select">
                        <option value="date_desc">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                        <option value="date_asc">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
                        <option value="price_desc">–¶–µ–Ω–∞: –æ—Ç –±–æ–ª—å—à–µ–π –∫ –º–µ–Ω—å—à–µ–π</option>
                        <option value="price_asc">–¶–µ–Ω–∞: –æ—Ç –º–µ–Ω—å—à–µ–π –∫ –±–æ–ª—å—à–µ–π</option>
                    </select>
                </div>
                <div class="filter-actions">
                    <button class="btn btn-primary" onclick="applyFilters()">
                        üîç –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
                    </button>
                    <button class="btn btn-secondary" onclick="resetFilters()">
                        ‚Ü∫ –°–±—Ä–æ—Å–∏—Ç—å
                    </button>
                </div>
            </div>
            <div class="action-buttons">
                <button class="btn btn-success" onclick="refreshMessages()">
                    ‚ü≥ –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
                </button>
            </div>
        </div>

        <div class="results-section">
            <div class="results-header">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
                <span class="results-count" id="resultsCount">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</span>
            </div>
            <div id="loadingIndicator" class="loading-indicator" style="display: none;">
                <div class="spinner"></div>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
            <div id="messagesList" class="messages-list">
                <div class="empty-state">
                    <p>–ù–∞–∂–º–∏—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è" –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π</p>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
