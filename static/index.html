<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram –§—ñ–ª—å—Ç—Ä –û—Ä–µ–Ω–¥–∏ –ñ–∏—Ç–ª–∞</title>
    <link rel="stylesheet" href="/static/styles.css">
    <script src="/static/translations.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                <div>
                    <h1 data-i18n="app.title">üè† –§—ñ–ª—å—Ç—Ä –æ–≥–æ–ª–æ—à–µ–Ω—å –ø—Ä–æ –æ—Ä–µ–Ω–¥—É</h1>
                    <p class="subtitle" data-i18n="app.subtitle">–ü–æ—à—É–∫ –∂–∏—Ç–ª–∞ –∑ Telegram –∫–∞–Ω–∞–ª—É</p>
                </div>
                <select id="languageSelector" onchange="switchLanguage(this.value)" style="padding: 8px 12px; border-radius: 8px; border: 2px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.2); color: white; font-size: 0.9rem; cursor: pointer;">
                    <option value="ua">üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
                    <option value="vi">üáªüá≥ Ti·∫øng Vi·ªát</option>
                </select>
            </div>
        </header>

        <div class="stats-bar" id="statsBar">
            <div class="stat-item">
                <span class="stat-label" data-i18n="stats.total">–í—Å–µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:</span>
                <span class="stat-value" id="totalMessages">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label" data-i18n="stats.with_price">–° —Ü–µ–Ω–æ–π:</span>
                <span class="stat-value" id="messagesWithPrice">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label" data-i18n="stats.with_location">–° –ª–æ–∫–∞—Ü–∏–µ–π:</span>
                <span class="stat-value" id="messagesWithLocation">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label" data-i18n="stats.updated">–û–±–Ω–æ–≤–ª–µ–Ω–æ:</span>
                <span class="stat-value" id="cacheAge">-</span>
            </div>
        </div>

        <div class="filters-section">
            <h2 data-i18n="filters.title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä—ã</h2>

            <div class="channel-section">
                <div class="filter-group channel-input-group">
                    <label for="channelInput">
                        <span data-i18n="filters.channels">üì∫ Telegram –∫–∞–Ω–∞–ª—ã</span>
                        <span class="hint" data-i18n="filters.channels_hint">(–Ω–∞–ø—Ä–∏–º–µ—Ä: @arenda_kvartir)</span>
                    </label>
                    <div class="channel-input-wrapper">
                        <input type="text" id="channelInput" placeholder="@channel_name" data-i18n="placeholder.channel">
                        <button class="btn btn-primary" onclick="addChannel()" data-i18n="filters.add_channel">
                            ‚ûï –î–æ–±–∞–≤–∏—Ç—å
                        </button>
                    </div>
                    <div id="channelsList" class="channels-list">
                        <!-- Channels will be added here dynamically -->
                    </div>
                </div>
            </div>

            <h3 data-i18n="filters.search_title">–§–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</h3>
            <div class="filters-grid">
                <div class="filter-group">
                    <label for="minPrice" data-i18n="filters.min_price">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (–º–ª–Ω VND –∏–ª–∏ USD)</label>
                    <input type="number" id="minPrice" placeholder="–û—Ç 0" data-i18n="placeholder.min_price">
                </div>
                <div class="filter-group">
                    <label for="maxPrice" data-i18n="filters.max_price">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (–º–ª–Ω VND –∏–ª–∏ USD)</label>
                    <input type="number" id="maxPrice" placeholder="–î–æ ‚àû" data-i18n="placeholder.max_price">
                </div>
                <div class="filter-group">
                    <label for="location">
                        <span data-i18n="filters.include_locations">–í–∫–ª—é—á–∏—Ç—å –ª–æ–∫–∞—Ü–∏–∏ (whitelist)</span>
                        <span class="hint" data-i18n="filters.include_hint">—Ç–æ–ª—å–∫–æ —Å —ç—Ç–∏–º–∏ —Ä–∞–π–æ–Ω–∞–º–∏</span>
                    </label>
                    <input type="text" id="location" placeholder="M·ªπ An, An Th∆∞·ª£ng..." data-i18n="placeholder.locations">
                </div>
                <div class="filter-group">
                    <label for="excludeAreas">
                        <span data-i18n="filters.exclude_areas">‚õî –ò—Å–∫–ª—é—á–∏—Ç—å —Ä–∞–π–æ–Ω—ã (blacklist)</span>
                        <span class="hint" data-i18n="filters.exclude_hint">–ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º—É —Ç–µ–∫—Å—Ç—É, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é</span>
                    </label>
                    <input type="text" id="excludeAreas" placeholder="my an, hoa hai, khue my..." data-i18n="placeholder.exclude">
                </div>
                <div class="filter-group">
                    <label for="sortBy">
                        <span data-i18n="filters.sort">üìä –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</span>
                        <span class="hint" data-i18n="filters.sort_hint">–ø–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
                    </label>
                    <select id="sortBy" class="sort-select">
                        <option value="date_desc" data-i18n="sort.date_desc">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                        <option value="date_asc" data-i18n="sort.date_asc">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
                        <option value="price_desc" data-i18n="sort.price_desc">–¶–µ–Ω–∞: –æ—Ç –±–æ–ª—å—à–µ–π –∫ –º–µ–Ω—å—à–µ–π</option>
                        <option value="price_asc" data-i18n="sort.price_asc">–¶–µ–Ω–∞: –æ—Ç –º–µ–Ω—å—à–µ–π –∫ –±–æ–ª—å—à–µ–π</option>
                    </select>
                </div>
                <div class="filter-actions">
                    <button class="btn btn-primary" onclick="applyFilters()" data-i18n="btn.apply_filters">
                        üîç –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
                    </button>
                    <button class="btn btn-secondary" onclick="resetFilters()" data-i18n="btn.reset">
                        ‚Ü∫ –°–±—Ä–æ—Å–∏—Ç—å
                    </button>
                </div>
            </div>
            <div class="action-buttons">
                <button class="btn btn-success" onclick="refreshMessages()" data-i18n="btn.refresh">
                    ‚ü≥ –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
                </button>
            </div>
        </div>

        <div class="results-section">
            <div class="results-header">
                <h2 data-i18n="results.title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
                <span class="results-count" id="resultsCount"><span id="resultsCountNumber">0</span> <span data-i18n="results.count">–æ–±—ä—è–≤–ª–µ–Ω–∏–π</span></span>
            </div>
            <div id="loadingIndicator" class="loading-indicator" style="display: none;">
                <div class="spinner"></div>
                <p data-i18n="results.loading">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
            <div id="messagesList" class="messages-list">
                <div class="empty-state">
                    <p data-i18n="results.empty">–ù–∞–∂–º–∏—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è" –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π</p>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
